<html>
    <head>
        <meta charset="utf-8">
        <title>Mocha Tests</title>
        <!--<link rel="stylesheet" href="test/support/mocha.css" />-->
        <link rel="stylesheet" href="https://raw.github.com/visionmedia/mocha/master/mocha.css"/>
        <script src="http://yui.yahooapis.com/3.5.1/build/yui/yui-min.js"></script>
        <!--<script src="test/support/mocha.js"></script>-->
        <script src="https://raw.github.com/visionmedia/mocha/master/mocha.js"></script>
        <script src="http://chaijs.com/chai.js"></script>
        <script src="/support/sinon.js"></script>
        <script src="/js/yui-cfg.js"></script>
        <script>
            mocha.setup({
                ui: 'bdd',
                globals: ['YUI', 'should', 'expect', 'sinon', 'XMLHttpRequest'],
                timeout: 5000
            });         
        </script>
        <script>
            should = chai.should();
            expect = chai.expect;
            cfg= yuiCfg
            cfg.groups = {
                spec: {
                    base: '/test/specs/',
                    patterns: {
                        'spec-': {
                            configFn: function (me) {
                                me.path = me.name.replace(/spec-/,'') + '.spec.js';
                            }
                        }
                    }
                }
            }
            
            onload = function () {
                YUI(cfg).use(
                    'spec-hal-link'
                    ,'spec-hal-command'
                    ,'spec-hal-command-resource'
                    ,'spec-hal-link-parser'
                    ,'spec-hal-resource-traversal-plugin'
                    ,'spec-hal-resource'
                    ,function (Y) {
                        Y.log('loaded mocha...', 'info', 'mocha');
                        mocha.run();
                });
            };
        </script>
    </head>
    <body>
        <div id="mocha"></div>
    </body>
</html>
